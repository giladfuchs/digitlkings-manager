{"version":3,"sources":["containers/auth/login/business-login.module.scss","containers/auth/login/login.tsx"],"names":["module","exports","connect","state","loading","getLoading","error","getError","isTokenSet","getIsTokenSet","language","getLanguage","dispatch","loginEmployee","form","SignUpEmployee","props","getForm","email","label","password","useState","setForm","setError","redirect","setRedirect","useEffect","to","formNew","Object","keys","forEach","key","value","className","classes","Register","Form2","title","subTitle","Fragment","Body","Button","color","onClick","ansForm","assign","map","k","loginComponent","onClickNext","disabled"],"mappings":"qFACAA,EAAOC,QAAU,CAAC,OAAS,+BAA+B,KAAO,6BAA6B,KAAO,6BAA6B,SAAW,iCAAiC,MAAQ,8BAA8B,KAAO,6BAA6B,MAAQ,8BAA8B,aAAa,mCAAmC,gBAAgB,wC,qKCgI/UC,uBAZS,SAACC,GAAD,MAAiB,CACrCC,QAASC,YAAWF,GACpBG,MAAOC,YAASJ,GAChBK,WAAYC,YAAcN,GAC1BO,SAAUC,YAAYR,OAGC,SAACS,GAAD,MAAoB,CAC3CC,cAAe,SAACC,GAAD,OAAqBF,EAASC,YAAcC,KAC3DC,eAAgB,SAACD,GAAD,OAAqBF,EAASG,YAAeD,QAGlDZ,EAnFwB,SAACc,GACpC,IAAMC,EAAU,WACZ,MAAO,CACHC,MAAM,2BAAMA,SAAP,IAAcC,MAAOT,IAAeM,EAAMN,YAC/CU,SAAS,2BAAMA,YAAP,IAAiBD,MAAOT,IAAkBM,EAAMN,cAJlB,EAOtBW,mBAAeJ,KAPO,mBAOvCH,EAPuC,KAOjCQ,EAPiC,OASpBD,mBAAiB,IATG,mBASvCf,EATuC,KAShCiB,EATgC,OAoBdF,qBApBc,mBAoBvCG,EApBuC,KAoB7BC,EApB6B,KAgC9C,OAXAC,qBAAU,WACNV,EAAMR,YAAciB,EAAY,kBAAC,IAAD,CAAUE,GAAG,QAC9C,CAACX,EAAMR,aACVkB,qBAAU,WACN,IAAME,EAAUX,IAChBY,OAAOC,KAAKF,GAASG,SAAQ,SAACC,GAC1BJ,EAAQI,GAAKC,MAAQnB,EAAKkB,GAAKC,SAEnCX,EAAQM,KACT,CAACZ,EAAMN,WAGN,yBAAKwB,UAAWC,IAAQC,UACnBZ,EACD,yBAAKU,UAAWC,IAAQE,OACpB,kBAAC,IAAD,CACIC,MAAO5B,IAAeM,EAAMN,UAC5B6B,SAAU7B,IAAuBM,EAAMN,UACvCJ,MAAOA,GAAgBU,EAAMV,QAEjC,kBAAC,IAAMkC,SAAP,KACI,yBAAKN,UAAWC,IAAQM,MACpB,kBAAC,IAAD,CACI3B,KAAMA,EACNQ,QAASA,EACThB,MAAOA,EACPiB,SAAUA,KAGhBP,EAAMZ,QAaJ,kBAAC,IAAD,MAZA,kBAAC,IAAMoC,SAAP,KACI,yBAAKN,UAAWC,IAAQO,QACpB,kBAAC,IAAD,CACIC,MAAM,kBACNC,QAAS,kBA5CrB,WAChB,IAAMC,EAAUhB,OAAOiB,OAAP,MAAAjB,OAAM,CAClB,IADkB,mBAEfA,OAAOC,KAAKhB,GAAMiC,KAAI,SAACC,GAAD,sBAAWA,EAAIlC,EAAKkC,GAAGf,aAEpDjB,EAAMiC,eACAjC,EAAMH,cAAcgC,GACpB7B,EAAMD,eAAe8B,GAqCgBK,IACfC,SAAoB,KAAV7C,GAHd","file":"static/js/8.9e89c6c1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"business-login_Button__4BmQH\",\"fade\":\"business-login_fade__5YUbx\",\"Form\":\"business-login_Form__17k3_\",\"Register\":\"business-login_Register__3M56w\",\"Form2\":\"business-login_Form2__26KpU\",\"Body\":\"business-login_Body__EIiAL\",\"error\":\"business-login_error__1kMxM\",\"fade-right\":\"business-login_fade-right__3_ALy\",\"border-bottom\":\"business-login_border-bottom__1d0iU\"};","import React, { useState, useEffect } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\n\nimport classes from \"./business-login.module.scss\";\n\nimport {\n    getLoading,\n    getError,\n    getIsTokenSet,\n    getLanguage\n} from \"../../../store/selectors\";\nimport { loginEmployee, SignUpEmployee } from \"../../../store\";\n\nimport {\n    Button,\n    AuthenticationHeadrer,\n    Inputs,\n    Loading\n} from \"../../../models/ui\";\nimport * as language from \"../../../assets/language/language\";\n\nimport { password, email, Form } from \"../../../models\";\n\ninterface FormState {\n    email: string;\n    password: string;\n}\n\ninterface OwnProps {\n    loginComponent: boolean;\n}\n\ninterface StateProps {\n    loading: boolean;\n    error: string;\n    isTokenSet: boolean;\n    language: number;\n}\n\ninterface DispatchProps {\n    loginEmployee: typeof loginEmployee;\n    SignUpEmployee: typeof SignUpEmployee;\n}\n\ntype Props = DispatchProps & StateProps & OwnProps;\nconst BusinessLogin: React.FC<Props> = (props) => {\n    const getForm = () => {\n        return {\n            email: { ...email, label: language.email[props.language] },\n            password: { ...password, label: language.password[props.language] }\n        };\n    };\n    const [form, setForm] = useState<Form>(getForm());\n\n    const [error, setError] = useState<string>(\"\");\n\n    const onClickNext = () => {\n        const ansForm = Object.assign(\n            {},\n            ...Object.keys(form).map((k) => ({ [k]: form[k].value }))\n        );\n        props.loginComponent\n            ? props.loginEmployee(ansForm)\n            : props.SignUpEmployee(ansForm);\n    };\n    const [redirect, setRedirect] = useState<JSX.Element>();\n    useEffect(() => {\n        props.isTokenSet && setRedirect(<Redirect to=\"\" />);\n    }, [props.isTokenSet]);\n    useEffect(() => {\n        const formNew = getForm();\n        Object.keys(formNew).forEach((key) => {\n            formNew[key].value = form[key].value;\n        });\n        setForm(formNew);\n    }, [props.language]);\n\n    return (\n        <div className={classes.Register}>\n            {redirect}\n            <div className={classes.Form2}>\n                <AuthenticationHeadrer\n                    title={language.login[props.language]}\n                    subTitle={language.loginSubTitle[props.language]}\n                    error={error ? error : props.error}\n                />\n                <React.Fragment>\n                    <div className={classes.Body}>\n                        <Inputs\n                            form={form}\n                            setForm={setForm}\n                            error={error}\n                            setError={setError}\n                        />\n                    </div>\n                    {!props.loading ? (\n                        <React.Fragment>\n                            <div className={classes.Button}>\n                                <Button\n                                    color=\"purple-register\"\n                                    onClick={() => onClickNext()}\n                                    disabled={error === \"\"}\n                                >\n                                    התחבר\n                                </Button>\n                            </div>\n                        </React.Fragment>\n                    ) : (\n                        <Loading />\n                    )}\n                </React.Fragment>\n            </div>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state: any) => ({\n    loading: getLoading(state),\n    error: getError(state),\n    isTokenSet: getIsTokenSet(state),\n    language: getLanguage(state)\n});\n\nconst mapDispatchToProps = (dispatch: any) => ({\n    loginEmployee: (form: FormState) => dispatch(loginEmployee(form)),\n    SignUpEmployee: (form: FormState) => dispatch(SignUpEmployee(form))\n});\n\nexport default connect<StateProps, DispatchProps>(\n    mapStateToProps,\n    mapDispatchToProps\n)(BusinessLogin);\n"],"sourceRoot":""}