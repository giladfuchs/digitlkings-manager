(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[5],{160:function(e,t,a){e.exports={Table:"users_Table__cUlCK",Header:"users_Header__2KuKA",fade:"users_fade__OppXS",head:"users_head__2X3W7",Services:"users_Services__1yZUQ",TableHeader:"users_TableHeader__1YtEe",Button:"users_Button__dG7iv",Available:"users_Available__3ZD7K",error:"users_error__35BA6","fade-right":"users_fade-right__2pDDn","border-bottom":"users_border-bottom__1ATvx"}},162:function(e,t,a){e.exports={Table:"innerTable_Table__34Zib",TableForm:"innerTable_TableForm__3V0yb",Input:"innerTable_Input__12CZJ",SerivcesSettings:"innerTable_SerivcesSettings__1LjtH",fade:"innerTable_fade__JHaPx",head:"innerTable_head__19KuB",Services:"innerTable_Services__wVYRf",TableHeader:"innerTable_TableHeader__OQz8h",Button:"innerTable_Button__24IL_",ButtonAddDate:"innerTable_ButtonAddDate__1iwcK",Available:"innerTable_Available__3EDRe",error:"innerTable_error__3Fd4I","fade-right":"innerTable_fade-right__ikamh","border-bottom":"innerTable_border-bottom__YaIaE"}},163:function(e,t,a){e.exports={Body:"add-user_Body__tqgKa",Available:"add-user_Available__OLlYx",Button:"add-user_Button__1gkMS",error:"add-user_error__3EtbL",fade:"add-user_fade__2ekB6","fade-right":"add-user_fade-right__mok7F","border-bottom":"add-user_border-bottom__3jTSm"}},164:function(e,t,a){"use strict";a.d(t,"b",(function(){return n.b})),a.d(t,"a",(function(){return n.a}));var n=a(6),r=(a(12),a(165)),l=a.n(r),c=a(166),i=a.n(c),u=a(167),o=a.n(u);l.a,i.a,o.a},165:function(e,t,a){e.exports=a.p+"static/media/dreamer.1427b7a9.svg"},166:function(e,t,a){e.exports=a.p+"static/media/posting_photo.ee01a6cb.svg"},167:function(e,t,a){e.exports=a.p+"static/media/404.6695af99.svg"},187:function(e,t,a){"use strict";a.r(t);var n=a(25),r=a(1),l=a.n(r),c=a(28),i=a(160),u=a.n(i),o=a(37),s=a(29),b=a(72),d=a(12),m=a(161),p=a(183),g=a(188),O=a(191),j=a(24),f=a(13),_=a(18),E=a(7),y=Object(c.b)((function(e){return{language:Object(s.f)(e)}}),(function(e){return{updateDate:function(t,a,n){return e(Object(o.p)(t,a,n))},deleteTarget:function(t,a){return e(Object(o.e)(t,a))}}}))((function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2),c=a[0],i=a[1],u=Object(r.useState)({date:Object(_.a)(Object(_.a)({},E.plainText),{},{label:"",value:e.targetName?e.targetName:"",editable:!1,class:"line",style:{width:"135px",height:"33px"}})}),o=Object(n.a)(u,2),s=o[0],b=o[1],d=Object(r.useState)(!1),p=Object(n.a)(d,2),g=p[0],O=p[1],y=function(){O(!1),b(Object.assign.apply(Object,[{}].concat(Object(f.a)(Object.keys(s).map((function(t){return Object(j.a)({},t,Object(_.a)(Object(_.a)({},s[t]),{},{value:e.targetName,editable:!1}))}))))))},v=function(){b(Object.assign.apply(Object,[{}].concat(Object(f.a)(Object.keys(s).map((function(e){return Object(j.a)({},e,Object(_.a)(Object(_.a)({},s[e]),{},{editable:!1}))})))))),O(!1),e.updateDate(e.targetName,e.user_id,s.date.value.toString())};g?m.d:m.e;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{key:e.targetName},l.a.createElement("td",null,l.a.createElement(E.Inputs,{form:s,setForm:b,error:c,setError:i})),g?l.a.createElement("td",{style:{alignItems:"center",margin:"3px"}},l.a.createElement(m.a,{size:25,color:"#e62163",onClick:y}),l.a.createElement(m.j,{size:25,color:"#7467ef",onClick:v})):l.a.createElement("td",{style:{alignItems:"center",margin:"3px"}},l.a.createElement(m.c,{size:15,color:"#e62163",onClick:function(){e.deleteTarget(e.targetId,e.user_id)}}),l.a.createElement(m.g,{size:25,color:"#7467ef",onClick:function(){O(!0),b(Object.assign.apply(Object,[{}].concat(Object(f.a)(Object.keys(s).map((function(e){return Object(j.a)({},e,Object(_.a)(Object(_.a)({},s[e]),{},{editable:!0}))}))))))}}))))})),v=Object(c.b)((function(e){return{language:Object(s.f)(e)}}),(function(e){return{updatePayment:function(t,a,n){return e(Object(o.q)(t,a,n))},deletePayment:function(t,a){return e(Object(o.d)(t,a))}}}))((function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2),c=a[0],i=a[1],u=Object(r.useState)({date:Object(_.a)(Object(_.a)({},E.plainText),{},{label:"",value:e.payment?e.payment.date:"",editable:!1,class:"line",style:{width:"135px",height:"33px"}}),amount:Object(_.a)(Object(_.a)({},E.phone),{},{label:"",value:e.payment?e.payment.amount:"",editable:!1,class:"line",style:{width:"135px",height:"33px"}}),method:Object(_.a)(Object(_.a)({},E.plainText),{},{label:"",value:e.payment?e.payment.method:"",editable:!1,class:"line",style:{width:"135px",height:"33px"}}),remark:Object(_.a)(Object(_.a)({},E.plainText),{},{label:"",value:e.payment?e.payment.remark:"",editable:!1,class:"line",style:{width:"135px",height:"33px"}})}),o=Object(n.a)(u,2),s=o[0],b=o[1],d=Object(r.useState)(!1),p=Object(n.a)(d,2),g=p[0],O=p[1],y=function(){O(!1),b(Object.assign.apply(Object,[{}].concat(Object(f.a)(Object.keys(s).map((function(t){return Object(j.a)({},t,Object(_.a)(Object(_.a)({},s[t]),{},{value:e.payment[t],editable:!1}))}))))))},v=function(){b(Object.assign.apply(Object,[{}].concat(Object(f.a)(Object.keys(s).map((function(e){return Object(j.a)({},e,Object(_.a)(Object(_.a)({},s[e]),{},{editable:!1}))})))))),O(!1);var t=Object.assign.apply(Object,[{}].concat(Object(f.a)(Object.keys(s).map((function(e){return Object(j.a)({},e,s[e].value)})))));e.updatePayment(e.user_id,t,e.index)};g?m.d:m.e;return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{key:e.payment.date},l.a.createElement("td",null,l.a.createElement(E.Inputs,{style:{display:"flex",flexDirection:"row",width:"380px"},form:s,setForm:b,error:c,setError:i})),g?l.a.createElement("td",{style:{alignItems:"center",margin:"3px",zIndex:109}},l.a.createElement(m.a,{size:25,color:"#e62163",onClick:y}),l.a.createElement(m.j,{size:25,color:"#7467ef",onClick:v})):l.a.createElement("td",{style:{alignItems:"center",margin:"3px",zIndex:109}},l.a.createElement(m.c,{size:15,color:"#e62163",onClick:function(){var t=Object(f.a)(e.payments);t.splice(e.index,1),console.log(t),e.deletePayment(e.user_id,t)}}),l.a.createElement(m.g,{size:25,color:"#7467ef",onClick:function(){O(!0),b(Object.assign.apply(Object,[{}].concat(Object(f.a)(Object.keys(s).map((function(e){return Object(j.a)({},e,Object(_.a)(Object(_.a)({},s[e]),{},{editable:!0}))}))))))}}))))})),h=a(162),C=a.n(h),k=a(73),x=a(75),T=Object(c.b)((function(e){return{language:Object(s.f)(e)}}),(function(e){return{postTarget:function(t,a,n){return e(Object(o.l)(t,a,n))}}}))((function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),c=a[0],i=a[1],u=Object(r.useState)({targetName:Object(_.a)(Object(_.a)({},k.d),{},{label:d.V[e.language]})}),o=Object(n.a)(u,2),s=o[0],b=o[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:C.a.TableForm},l.a.createElement("div",{className:C.a.Input},l.a.createElement("div",null,l.a.createElement(x.a,{style:{width:"280px"},form:s,setForm:b,error:c,setError:i}),l.a.createElement(E.Button,{color:"purple-register",disabled:!0,onClick:function(){e.postTarget(e.user_id,s.targetName.value,e.index)}},d.h[e.language])))))})),S=a(140),B=a(8),I=a(2),N=(a(15),a(21)),F=a(53),w=a(78),A=a(23),z=r.forwardRef((function(e,t){var a=e.children,n=e.classes,l=e.className,c=e.component,i=void 0===c?"p":c,u=(e.disabled,e.error,e.filled,e.focused,e.margin,e.required,e.variant,Object(B.a)(e,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),o=Object(w.a)(),s=Object(F.a)({props:e,muiFormControl:o,states:["variant","margin","disabled","error","filled","focused","required"]});return r.createElement(i,Object(I.a)({className:Object(N.a)(n.root,("filled"===s.variant||"outlined"===s.variant)&&n.contained,l,s.disabled&&n.disabled,s.error&&n.error,s.filled&&n.filled,s.focused&&n.focused,s.required&&n.required,"dense"===s.margin&&n.marginDense),ref:t},u)," "===a?r.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):a)})),M=Object(A.a)((function(e){return{root:Object(I.a)({color:e.palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:e.palette.text.disabled},"&$error":{color:e.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(z),D=Object(c.b)((function(e){return{language:Object(s.f)(e),clients:Object(s.a)(e)}}),(function(e){return{postPayment:function(t,a,n){return e(Object(o.k)(t,a,n))}}}))((function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),c=a[0],i=a[1],u=Object(r.useState)("keva"),o=Object(n.a)(u,2),s=o[0],b=o[1],m=Object(r.useState)({date:Object(_.a)(Object(_.a)({},k.d),{},{type:"date",label:d.s[e.language]}),amount:Object(_.a)(Object(_.a)({},k.c),{},{label:d.O[e.language]}),remark:Object(_.a)(Object(_.a)({},k.d),{},{label:d.U[e.language]})}),p=Object(n.a)(m,2),g=p[0],O=p[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",null,l.a.createElement(x.a,{style:{width:"280px"},form:g,setForm:O,error:c,setError:i}),l.a.createElement(S.a,{value:s,style:{height:"100%"},onChange:function(e){b(e.target.value)},name:"age"},l.a.createElement("option",{value:"keva"},"keva"),l.a.createElement("option",{value:"bit"},"bit"),l.a.createElement("option",{value:"transfer"},"Transfer"),l.a.createElement("option",{value:"credit"},"credit"),l.a.createElement("option",{value:"cash"},"cash"),l.a.createElement("option",{value:"other"},"other")),l.a.createElement(M,null,"payment method"),l.a.createElement(E.Button,{color:"purple-register",disabled:!0,onClick:function(){var t=Object.assign.apply(Object,[{method:s}].concat(Object(f.a)(Object.keys(g).map((function(e){return Object(j.a)({},e,g[e].value)})))));console.log(t);var a=e.clients[e.index].payments.length;e.postPayment(e.user_id,t,a)}},d.g[e.language])))})),H=Object(c.b)((function(e){return{clients:Object(s.a)(e),language:Object(s.f)(e)}}),(function(e){return{addTargetsWithApi:function(t,a){return e(Object(o.b)(t,a))}}}))((function(e){var t=Object(r.useState)(),a=Object(n.a)(t,2),c=a[0],i=a[1],u=Object(r.useState)(),o=Object(n.a)(u,2),s=o[0],b=o[1],m=Object(r.useCallback)((function(){return l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null," ",d.V[e.language]),l.a.createElement("th",null,d.a[e.language])))}),[]),p=Object(r.useState)(m()),g=Object(n.a)(p,1)[0];Object(r.useMemo)((function(){e.client&&i(Object.keys(e.client.targets).map((function(t){return l.a.createElement(y,{key:t,user_id:e.client.user_id.toString(),targetName:e.client.targets[t][t],targetId:t})})))}),[e.clients]),Object(r.useMemo)((function(){e.client&&b(Object.keys(e.client.payments).map((function(t,a){return l.a.createElement(v,{key:e.client.payments[t].date+Math.random(),user_id:e.client.user_id.toString(),payment:e.client.payments[t],index:a,payments:e.client.payments})})))}),[e.clients]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:C.a.Table,style:{height:"auto"}},l.a.createElement("table",{key:e.client.user_id+"1"},l.a.createElement(T,{user_id:e.client.user_id.toString(),index:e.index}),g,l.a.createElement("tbody",null,c),l.a.createElement(E.Button,{color:"purple-register",disabled:!0,onClick:function(){var t=Object.keys(e.client.targets).map((function(e){return Number(e)}));e.addTargetsWithApi(e.client.user_id,t)}},d.S[e.language])),l.a.createElement("table",{key:e.client.user_id},l.a.createElement(D,{user_id:e.client.user_id.toString(),index:e.index}),l.a.createElement("tbody",null,s))))})),q=Object(c.b)((function(e){return{dates:Object(s.b)(e),language:Object(s.f)(e)}}))((function(e){var t=e.setModal,a=e.setUserToUpdate,r=l.a.useState(!1),c=Object(n.a)(r,2),i=c[0],u=c[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",{key:e.client.usernameInstagram},l.a.createElement("td",null,l.a.createElement(O.a,{control:l.a.createElement(p.a,{checked:i,onChange:function(){u((function(e){return!e}))}}),label:""}),l.a.createElement(m.g,{size:25,onClick:function(){a(e.client),t(!0)},color:"#7467ef"})),l.a.createElement("td",null,e.client.permanence?l.a.createElement(m.f,{size:25,color:"#7467ef"}):l.a.createElement(m.i,{size:25,color:"#7467ef"})),l.a.createElement("td",null,e.client.payments[e.client.payments.length-1].amount+"  "),l.a.createElement("td",null,e.client.payments[e.client.payments.length-1].date+"  "),l.a.createElement("td",null," "+e.client.usernameInstagram+"  ",l.a.createElement(m.b,{style:{cursor:"pointer"},onClick:function(){navigator.clipboard.writeText(e.client.usernameInstagram)},color:"#7467ef"})),l.a.createElement("td",null,e.index+"   "," "+e.client.username+"  ")),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement(g.a,{in:i},l.a.createElement(H,{client:e.client,index:e.index})))))})),P=Object(c.b)((function(e){return{clients:Object(s.a)(e),language:Object(s.f)(e),error:Object(s.d)(e)}}))((function(e){var t=e.setModal,a=e.setClientToUpdate,c=Object(r.useState)(),i=Object(n.a)(c,2),o=i[0],s=i[1],b=Object(r.useCallback)((function(){return l.a.createElement("thead",null,l.a.createElement("tr",null,[d.k[e.language],d.W[e.language],d.s[e.language],d.O[e.language],d.P[e.language],d.b[e.language]].map((function(e){return l.a.createElement("th",{key:e}," ",e)}))))}),[e]),m=Object(r.useState)(b()),p=Object(n.a)(m,1)[0];return Object(r.useMemo)((function(){s(e.clients.map((function(e,n){return l.a.createElement(q,{key:e.user_id,client:e,setModal:t,setUserToUpdate:a,index:n})})))}),[e.clients]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:u.a.Table},l.a.createElement("table",null,p,l.a.createElement("tbody",null,o))))})),U=a(163),K=a.n(U),L=a(65),R=a.n(L),W=a(76),Z=a.n(W),J=a(164),V=Object(c.b)((function(e){return{language:Object(s.f)(e)}}))((function(e){var t=Object(r.useState)(""),a=Object(n.a)(t,2),c=a[0],i=a[1],u=new Date,o=l.a.useState(!1),s=Object(n.a)(o,2),m=s[0],g=s[1],O=function(){g((function(e){return!e}))},y=Object(r.useState)({username:Object(_.a)(Object(_.a)({},E.plainText),{},{label:d.k[e.language],value:e.updateClient?e.updateClient.usernameInstagram:"",class:"border"}),usernameInstagram:Object(_.a)(Object(_.a)({},E.plainText),{},{label:d.W[e.language],value:e.updateClient?e.updateClient.usernameInstagram:"",class:"border"}),email:Object(_.a)(Object(_.a)({},E.plainText),{},{validation:{biggerThenZero:!0,minLen:1},label:d.w[e.language],value:e.updateClient&&e.updateClient.email?e.updateClient.email:"",class:"border"}),phone:Object(_.a)(Object(_.a)({},E.phone),{},{class:"border",value:e.updateClient?e.updateClient.phone:"",label:d.Q[e.language],validation:{required:!1,isPhone:!1}}),dateBegin:Object(_.a)(Object(_.a)({},E.phone),{},{type:"date",label:d.p[e.language],value:e.updateClient?e.updateClient.payments[e.updateClient.payments.length-1].date:Z()(u).format(J.a),validation:{required:!1,isPhone:!1},editable:!e.updateClient}),payment:Object(_.a)(Object(_.a)({},E.plainText),{},{type:"number",label:d.O[e.language],value:e.updateClient?e.updateClient.payments[e.updateClient.payments.length-1].amount:"",editable:!e.updateClient})}),v=Object(n.a)(y,2),h=v[0],C=v[1],k=function(){return l.a.createElement("div",{className:K.a.Button},"\u05d4\u05d5\u05e8\u05d0\u05ea \u05e7\u05d1\u05e2",l.a.createElement(p.a,{checked:m,onChange:O}),l.a.createElement(b.b,{onClick:function(){return function(){if(!c){var t=Object.assign.apply(Object,[{user_id:e.updateClient?e.updateClient.user_id:Math.floor(1e4*Math.random()),permanence:m,dates:[{begin:h.dateBegin.value,end:""}],targets:e.updateClient?e.updateClient.targets:{3233:{3233:"faff"}},payments:e.updateClient?e.updateClient.payments:[{date:h.dateBegin.value,pay:h.payment.value}],active:!0}].concat(Object(f.a)(Object.keys(h).map((function(e){return Object(j.a)({},e,h[e].value)})))));delete t.dateBegin,console.log(t),e.fetchClient(t)}}()},color:"purple",disabled:""===c},e.updateClient?d.t[e.language]:d.c[e.language]))},x=""!==c&&null!==c?c:""!==e.error&&null!==e.error?e.error:null;return l.a.createElement(b.e,{title:e.updateClient?d.u[e.language]:d.e[e.language],close:e.close,footer:l.a.createElement(k,null)},l.a.createElement("div",{className:K.a.Body},x&&l.a.createElement("p",{className:R.a.Error},x),l.a.createElement(b.c,{form:h,setForm:C,error:c,setError:i}),l.a.createElement("div",{className:K.a.Available})))}));t.default=Object(c.b)((function(e){return{loading:Object(s.g)(e),language:Object(s.f)(e),error:Object(s.d)(e)}}),(function(e){return{updateClient:function(t){return e(Object(o.o)(t))},postClient:function(t){return e(Object(o.i)(t))}}}))((function(e){var t=Object(r.useState)(null),a=Object(n.a)(t,2),c=a[0],i=a[1],o=Object(r.useState)(!1),s=Object(n.a)(o,2),m=s[0],p=s[1],g=Object(r.useState)(Object(r.useCallback)((function(){return l.a.createElement(b.f,{title:d.B[e.language]})}),[])),O=Object(n.a)(g,1)[0];return!m&&c&&i(null),Object(r.useEffect)((function(){""===e.error&&!e.loading&&p(!1)}),[e.error,e.loading]),l.a.createElement(l.a.Fragment,null,m&&l.a.createElement(V,{title:d.i[e.language],close:function(){return p(!1)},fetchClient:c?e.updateClient:e.postClient,updateClient:c,error:e.error}),l.a.createElement("div",{className:u.a.Header},O,l.a.createElement("div",{className:u.a.head},l.a.createElement(b.b,{onClick:function(){return p(!0)},color:"purple",disabled:!0,style:{marginRight:"25%"}},d.d[e.language])),l.a.createElement(P,{setModal:p,setClientToUpdate:i})))}))}}]);
//# sourceMappingURL=5.34e45236.chunk.js.map